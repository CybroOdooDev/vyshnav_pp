<?xml version="1.0" encoding="utf-8"?>
    <!-- Inherited the helpdesk.ticket form view for adding new fields and to hide some fields-->
<odoo>
    <record id="helpdesk_ticket_form_view" model="ir.ui.view">
        <field name="name">helpdesk.ticket.view.form.inherit.sale.order.help.desk</field>
        <field name="model">helpdesk.ticket</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form"/>
        <field name="arch" type="xml">
             <xpath expr="//header" position="inside">
                 <button name="action_create_sale_order"
                         string="Create Sale Order" type="object" attrs="{'invisible':['|','|',('ticket_status','!=','valid'),('new_sale_order_id','!=',False),('sale_order_id','=',False)]}"/>
             </xpath>
            <xpath expr="//sheet/div[hasclass('oe_button_box')]" position="after">
                <widget name="web_ribbon" title="Invalid"  bg_color="bg-danger" attrs="{'invisible': [('ticket_status', 'in', ['valid', False])]}"/>
                <widget name="web_ribbon" title="Valid" bg_color="bg-success" attrs="{'invisible': [('ticket_status', 'in', ['invalid',False])]}"/>
                <field name = 'ticket_status' invisible="1"/>
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='company_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/group/group/div/field[@name='partner_email']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/group/group/label[@for='partner_email']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/group/group/div/field[@name='partner_phone']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/group/group/label[@for='partner_phone']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='email_cc']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//form/sheet/group/group/field[@name='email_cc']" position="after">
                <field name="user_id"/>
                <field name="priority" widget="priority"/>
                <field name="start_date"/>
                <field name="solved_date"/>
                <field name="currency_id" invisible="1"/>
            </xpath>
             <xpath expr="//field[@name='team_id']" position="attributes">
                <attribute name="invisible">1</attribute>
             </xpath>
            <xpath expr="//field[@name='partner_name']" position="replace">
             </xpath>
            <xpath expr="//field[@name='partner_id']" position="replace">
             </xpath>
            <xpath expr="//field[@name='tag_ids']" position="replace">
             </xpath>
            <xpath expr="//field[@name='ticket_type_id']" position="replace">
             </xpath>
            <xpath expr="//field[@name='user_id']" position="replace">
             </xpath>
            <xpath expr="//field[@name='priority']" position="replace">
             </xpath>
             <xpath expr="//field[@name='team_id']" position="after">
                 <field name ="partner_id"/>
                 <field name ='sale_order_id' string="Sale Order"/>
                <field name ="new_sale_order_id"/>
             </xpath>
            <field name="new_sale_order_id" position="after">
                <field name="complaint_department_id"/>
                <field name="complaint_category_ids" widget="many2many_tags"/>
                <field name="complaint_type"/>
                <field name="ticket_status"/>
                <field name="cost_of_restore" widget="monetary"/>
            </field>
        </field>
    </record>
<record id="helpdesk_ticket_view_form_inherit_helpdesk_sale_timesheet_sale_order_helpdesk" model="ir.ui.view">
    <field name="name">helpdesk.ticket.form.inherit.sale.timesheet.inherit.sale.order.helpdesk</field>
    <field name="model">helpdesk.ticket</field>
    <field name="inherit_id" ref="helpdesk_timesheet.helpdesk_ticket_view_form_inherit_helpdesk_timesheet"/>
    <field name="arch" type="xml">
       <xpath expr="//field[@name='sale_line_id' and @groups='sales_team.group_sale_salesman']" position="attributes">
    <attribute name="invisible">1</attribute>
  </xpath>
        <xpath expr="//field[@name='sale_line_id' and @groups='sales_team.group_sale_salesman']"
               position="before">
            <field name="ticket_type_id"/>
            <field name="tag_ids" widget="many2many_tags"/>
  </xpath>
    </field>
</record>
<record id="helpdesk_ticket_view_form_inherit_helpdesk_custom_timesheet" model="ir.ui.view">
    <field name='name'>helpdesk.ticket.form.inherit.timesheet.customfield</field>
    <field name="model">helpdesk.ticket</field>
    <field name="inherit_id" ref="helpdesk_timesheet.helpdesk_ticket_view_form_inherit_helpdesk_timesheet"/>
    <field name="arch" type="xml">
        <xpath expr="//page[@name='timesheets']" position="after">
            <page string="Desired Solutions" name="desired_solutions" >
            <field name="desired_solutions" placeholder="Desired Solutions....."/>
            </page>
       </xpath>
    </field>
</record>

</odoo>
